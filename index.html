<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>10-Ball Betting Odds Calculator</title>
  <link rel="stylesheet" href="css/style.css">
  <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
</head>
<body>
  <div class="container">
    <header>
      <h1>ðŸŽ± 10-Ball Betting Odds Calculator</h1>
      <p class="subtitle">Real-time odds calculation for local 10-ball tournaments</p>
    </header>

    <!-- Match Setup Section -->
    <section class="card" id="setupSection">
      <h2>Match Setup</h2>
      <div class="form-group">
        <label for="playerA">Player A Name</label>
        <input id="playerA" type="text" placeholder="Enter player A name" />
      </div>

      <div class="form-group">
        <label for="playerB">Player B Name</label>
        <input id="playerB" type="text" placeholder="Enter player B name" />
      </div>

      <div class="form-group">
        <label for="houseCut">House Cut (%)</label>
        <input id="houseCut" type="number" min="0" max="100" value="10" />
        <small>Percentage taken by house from total pool</small>
      </div>

      <div class="form-group">
        <label for="matchRounds">Match Format</label>
        <select id="matchRounds">
          <option value="first-to-5">First to 5</option>
          <option value="first-to-7">First to 7</option>
          <option value="first-to-9">First to 9</option>
          <option value="best-of-11">Best of 11</option>
        </select>
      </div>

      <button class="btn btn-primary" onclick="createMatch()">Create / Reset Match</button>
    </section>

    <!-- Betting Section -->
    <section class="card" id="betSection" style="display: none;">
      <div class="match-header">
        <h2 id="matchTitle"></h2>
        <span class="badge" id="matchFormat"></span>
      </div>

      <div class="odds-display">
        <div class="odds-card">
          <div class="odds-label" id="playerALabel">Player A</div>
          <div class="odds-value" id="oddsA">0.00</div>
        </div>
        <div class="odds-separator">VS</div>
        <div class="odds-card">
          <div class="odds-label" id="playerBLabel">Player B</div>
          <div class="odds-value" id="oddsB">0.00</div>
        </div>
      </div>

      <div class="form-section">
        <h3>Place Bet</h3>
        <div class="form-group">
          <label for="bettorName">Bettor Name</label>
          <input id="bettorName" type="text" placeholder="Enter bettor name" />
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="playerChoice">Choose Player</label>
            <select id="playerChoice"></select>
          </div>

          <div class="form-group">
            <label for="betAmount">Bet Amount</label>
            <input id="betAmount" type="number" min="0" step="0.01" placeholder="0.00" />
          </div>
        </div>

        <button class="btn btn-success" onclick="addBet()">Add Bet</button>
      </div>
    </section>

    <!-- Bets Table Section -->
    <section class="card" id="betsCard" style="display: none;">
      <h2>Active Bets</h2>
      <div class="table-responsive">
        <table>
          <thead>
            <tr>
              <th>Bettor</th>
              <th>Player</th>
              <th>Amount</th>
              <th>Odds</th>
              <th>Potential Payout</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="betsTable"></tbody>
        </table>
      </div>
      <div class="bets-summary">
        <p><strong>Total Bets:</strong> <span id="totalBets">0</span></p>
      </div>
    </section>

    <!-- House Dashboard Section -->
    <section class="card" id="dashboard" style="display: none;">
      <h2>ðŸ“Š House Dashboard</h2>
      <div class="dashboard-grid">
        <div class="stat-box">
          <label>Gross Pool</label>
          <div class="stat-value" id="grossPool">0.00</div>
        </div>
        <div class="stat-box">
          <label>House Cut (%)</label>
          <div class="stat-value" id="dashCut">0%</div>
        </div>
        <div class="stat-box">
          <label>House Profit</label>
          <div class="stat-value highlight" id="houseProfit">0.00</div>
        </div>
        <div class="stat-box">
          <label>Net Pool</label>
          <div class="stat-value" id="netPool">0.00</div>
        </div>
      </div>

      <div class="dashboard-section">
        <h3>Payout Distribution</h3>
        <div class="payout-info">
          <p>If <span id="payoutPlayerA" style="font-weight: bold;"></span> wins:</p>
          <ul>
            <li>Total Payout: <span id="payoutTotalA">0.00</span></li>
            <li>House Profit: <span id="houseProfitA">0.00</span></li>
          </ul>
          <p>If <span id="payoutPlayerB" style="font-weight: bold;"></span> wins:</p>
          <ul>
            <li>Total Payout: <span id="payoutTotalB">0.00</span></li>
            <li>House Profit: <span id="houseProfitB">0.00</span></li>
          </ul>
        </div>
      </div>

      <div class="button-group">
        <button class="btn btn-secondary" onclick="exportToExcel()">ðŸ“¥ Export to Excel</button>
        <button class="btn btn-warning" onclick="resetAll()">ðŸ”„ Reset All</button>
      </div>
    </section>
  </div>

  <script src="js/app.js"></script>
</body>
</html>
